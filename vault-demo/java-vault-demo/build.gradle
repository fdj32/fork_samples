/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/current/userguide/building_java_projects.html
 */

plugins {
    // Apply the java plugin to add support for Java
    id 'java'

    // Apply the application plugin to add support for building a CLI application.
    id 'application'

    // apply plugin: 'org.springframework.boot'
    id 'org.springframework.boot' version '2.7.0'

    // https://plugins.gradle.org/plugin/io.spring.dependency-management
    id 'io.spring.dependency-management' version '1.0.11.RELEASE'
}

repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    mavenCentral()
}

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

version = '1.1.0'

dependencies {

    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'
    implementation 'org.springframework.boot:spring-boot-starter-security'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.cloud:spring-cloud-starter-vault-config:3.0.2'

    implementation ('com.github.javafaker:javafaker:1.0.2') { exclude group: 'org.yaml' }
    implementation 'com.h2database:h2:2.1.212'
    implementation 'org.apache.commons:commons-lang3:3.12.0'
    implementation 'org.yaml:snakeyaml:1.30'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.13.2'
}

//bootJar {
//	classifier = 'snapshot'
//	excludes = ["*.jar"]
//}

configurations.all {
    exclude group: 'com.fasterxml.jackson.datatype'
    exclude group: 'com.fasterxml.jackson.module'
    exclude group: 'com.sun.istack'
    exclude group: 'com.sun.xml.fastinfoset'
    exclude group: 'dk.brics.automaton'
    exclude group: 'org.apache.httpcomponents'
    exclude group: 'org.apache.tomcat'
    exclude group: 'org.apache.tomcat.embed', module: 'tomcat-embed-el'
    exclude group: 'org.apache.tomcat.embed', module: 'tomcat-embed-websocket'
    exclude group: 'org.aspectj'
    exclude group: 'org.bouncycastle'
    exclude group: 'com.github.mifmif'
    exclude group: 'org.glassfish.jaxb'
    exclude group: 'org.javassist'
    exclude group: 'org.jvnet.staxex'
    exclude group: 'org.apache.logging.log4j'
    exclude group: 'org.slf4j', module: 'log4j-over-slf4j'
}

application {
    // Define the main class for the application.
    // mainClassName = 'com.active.vault.App'
	// The JavaApplication.setMainClassName(String) method has been deprecated. This is scheduled to be removed in Gradle 8.0. Use #getMainClass().set(...) instead. See https://docs.gradle.org/7.0.1/dsl/org.gradle.api.plugins.JavaApplication.html#org.gradle.api.plugins.JavaApplication:mainClass for more details.
	mainClass.set("com.active.vault.App")
}
